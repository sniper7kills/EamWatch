"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[951],{6663:(t,a,e)=>{e.r(a),e.d(a,{default:()=>i});const s={name:"message-listing",data:function(){return{messages:[],loading:!0,pagination:{total:0,per_page:15,current_page:1,last_page:0,from:1,to:15},paginationOptions:{offset:4,previousText:"Prev",nextText:"Next",alwaysShowPrevNext:!0}}},methods:{loadMessages:function(){var t=this,a={params:{paginate:this.pagination.per_page,page:this.pagination.current_page}};this.loading=!0,axios.get("/api/skykings",a).then((function(a){t.messages=a.data.data,t.pagination=a.data.meta,t.loading=!1}))}},mounted:function(){this.loadMessages()}};const i=(0,e(1900).Z)(s,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v("Skyking Messages")]),t._v(" "),a("div",{staticClass:"card-tools"},[a("a",{staticClass:"float-right pl-2",attrs:{href:""},on:{click:t.loadMessages}},[a("i",{staticClass:"fa fa-sync"})]),t._v(" "),a("div",{staticClass:"input-group input-group-sm",staticStyle:{width:"150px"}},[t._m(0),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.pagination.per_page,expression:"pagination.per_page"}],staticClass:"form-control float-right",attrs:{disabled:!0===t.loading},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.pagination,"per_page",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:"5"}},[t._v("5")]),t._v(" "),a("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),a("option",{attrs:{value:"15"}},[t._v("15")]),t._v(" "),a("option",{attrs:{value:"20"}},[t._v("20")]),t._v(" "),a("option",{attrs:{value:"25"}},[t._v("25")]),t._v(" "),a("option",{attrs:{value:"50"}},[t._v("50")]),t._v(" "),a("option",{attrs:{value:"75"}},[t._v("75")]),t._v(" "),a("option",{attrs:{value:"100"}},[t._v("100")])])])])]),t._v(" "),a("div",{staticClass:"card-body table-responsive p-0"},[a("table",{staticClass:"table table-hover"},[t._m(1),t._v(" "),!0===t.loading?a("tbody",[a("tr",[a("td",{attrs:{colspan:"6"}},[a("vue-loading",{attrs:{type:"bubbles",color:"#d9544e",size:{width:"50px",height:"50px"}}})],1)])]):t._e(),t._v(" "),!1===t.loading?a("tbody",t._l(t.messages,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.type))]),t._v(" "),a("td",[t._v(t._s(e.time))]),t._v(" "),a("td",[""===e.receiver?a("p",{staticClass:"text-muted text-sm"},[a("b",[t._v("Sender: ")]),t._v(" "+t._s(e.sender)+"\n                            ")]):a("p",{staticClass:"text-muted text-sm"},[a("b",[t._v("Sender: ")]),t._v(" "+t._s(e.sender)+" "),a("br"),t._v(" "),a("b",[t._v("Receiver: ")]),t._v(" "+t._s(e.receiver)+"\n                            ")])]),t._v(" "),a("td",[a("span",{staticStyle:{"font-family":"monospace"}},[t._v(t._s(e.message))])]),t._v(" "),a("td",[a("p",{staticClass:"text-muted text-sm"},[a("b",[t._v("Recordings: ")]),t._v(" "+t._s(e.recording_count)+" "),a("br"),t._v(" "),a("b",[t._v("Comments: ")]),t._v(" "+t._s(e.comment_count)+" "),a("br"),t._v(" "),a("b",[t._v("Submitter: ")]),t._v(" "),"user"===e.user.type?a("router-link",{attrs:{tag:"a",to:{name:"user-view",params:{user_id:e.user.id}}}},[t._v("\n                                    "+t._s(e.user.name)+"\n                                ")]):t._e(),t._v(" "),"guest"===e.user.type?a("router-link",{attrs:{tag:"a",to:{name:"guest-view",params:{guest_id:e.user.id}}}},[t._v("\n                                    "+t._s(e.user.name)+"\n                                ")]):t._e()],1)]),t._v(" "),a("td",[a("router-link",{attrs:{tag:"a",to:{name:"message-view",params:{message_id:e.id}}}},[a("i",{staticClass:"fa fa-eye"})]),t._v(" "),e.permissions.update?a("router-link",{attrs:{tag:"a",to:{name:"message-edit",params:{message_id:e.id}}}},[a("i",{staticClass:"fa fa-edit"})]):t._e(),t._v(" "),e.permissions.delete?a("router-link",{attrs:{tag:"a",to:{name:"message-delete",params:{message_id:e.id}}}},[a("i",{staticClass:"fa fa-trash"})]):t._e()],1)])})),0):t._e()])]),t._v(" "),a("div",{staticClass:"card-footer clearfix"},[a("pagination",{attrs:{pagination:t.pagination,callback:t.loadMessages,options:t.paginationOptions}})],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Per Page")])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Time")]),t._v(" "),a("th",[t._v("Sender/Receiver")]),t._v(" "),a("th",[t._v("Message")]),t._v(" "),a("th",[t._v("Counts/Submitter")]),t._v(" "),a("th",[t._v("Actions")])])])}],!1,null,"b3b46fd4",null).exports}}]);