"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[754],{367:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});const a={name:"message-edit",data:function(){return{loading:!0,submitting:!1,message_id:null,type:"",sender:null,receiver:null,time:null,message:null}},methods:{updateMessage:function(){var e=this;this.$errors.flush(),this.submitting=!0,axios.put("/api/messages/"+this.message_id,{type:this.type,sender:this.sender,receiver:this.receiver,time:this.time,message:this.message}).then((function(t){console.log("THEN"),e.$router.push({name:"message-view",params:{message_id:t.data.data.id}})})).catch((function(t){303===t.response.status&&e.$router.push({name:"message-view",params:{message_id:t.response.data.data.id}}),e.submitting=!1}))},loadMessage:function(){var e=this;axios.get("/api/messages/"+this.message_id).then((function(t){e.type=t.data.data.type,e.sender=t.data.data.sender,e.receiver=t.data.data.receiver,e.time=t.data.data.time.replace(" ","T"),e.message=t.data.data.message,e.loading=!1}))}},mounted:function(){this.message_id=this.$route.params.message_id,this.loadMessage()}};const i=(0,s(1900).Z)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"card"},[e._m(0),e._v(" "),e.loading?t("div",{staticClass:"card-body"},[t("vue-loading",{attrs:{type:"bubbles",color:"#d9544e",size:{width:"50px",height:"50px"}}})],1):e._e(),e._v(" "),e.loading?e._e():t("div",{staticClass:"card-body"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"type"}},[e._v("Message Type")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],staticClass:"form-control",class:{"is-invalid":this.$errors.has("type")},attrs:{id:"type",disabled:!0===e.submitting||!0===e.loading},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.type=t.target.multiple?s:s[0]}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Select...")]),e._v(" "),t("option",{attrs:{value:"RADIOCHECK"}},[e._v("Radio Check")]),e._v(" "),t("option",{attrs:{value:"ALLSTATIONS"}},[e._v("All Stations")]),e._v(" "),t("option",{attrs:{value:"SKYKING"}},[e._v("Sky King")]),e._v(" "),t("option",{attrs:{value:"SKYMASTER"}},[e._v("Sky Master")]),e._v(" "),t("option",{attrs:{value:"SKYBIRD"}},[e._v("Sky Bird")]),e._v(" "),t("option",{attrs:{value:"OTHER"}},[e._v("Other")]),e._v(" "),t("option",{attrs:{value:"DISREGARDED"}},[e._v("Disregarded")]),e._v(" "),t("option",{attrs:{value:"BACKEND"}},[e._v("Backend")])]),e._v(" "),t("error",{staticClass:"text-danger",attrs:{input:"type"}})],1)]),e._v(" "),t("div",{staticClass:"col-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"time"}},[e._v("Broadcasted at")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.time,expression:"time"}],staticClass:"form-control",class:{"is-invalid":this.$errors.has("time")},attrs:{type:"datetime-local",id:"time",disabled:!0===e.submitting||!0===e.loading},domProps:{value:e.time},on:{input:function(t){t.target.composing||(e.time=t.target.value)}}}),e._v(" "),t("error",{staticClass:"text-danger",attrs:{input:"time"}})],1)])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"sender"}},[e._v("Sender")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.sender,expression:"sender"}],staticClass:"form-control",class:{"is-invalid":this.$errors.has("sender")},attrs:{type:"text",id:"sender",disabled:!0===e.submitting||!0===e.loading},domProps:{value:e.sender},on:{input:function(t){t.target.composing||(e.sender=t.target.value)}}}),e._v(" "),t("error",{staticClass:"text-danger",attrs:{input:"sender"}})],1)]),e._v(" "),t("div",{staticClass:"col-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"receiver"}},[e._v("Recipient")]),e._v(" "),e._m(1),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.receiver,expression:"receiver"}],staticClass:"form-control",class:{"is-invalid":this.$errors.has("receiver")},attrs:{type:"text",id:"receiver",disabled:!0===e.submitting||!0===e.loading},domProps:{value:e.receiver},on:{input:function(t){t.target.composing||(e.receiver=t.target.value)}}}),e._v(" "),t("error",{staticClass:"text-danger",attrs:{input:"receiver"}})],1)])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("label",{attrs:{for:"message"}},[e._v("Message")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control",class:{"is-invalid":this.$errors.has("message")},attrs:{id:"message",disabled:!0===e.submitting||!0===e.loading},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),t("error",{staticClass:"text-danger",attrs:{input:"message"}})],1)])]),e._v(" "),t("div",{staticClass:"card-footer"},[t("input",{staticClass:"btn btn-primary float-right",attrs:{type:"submit",value:"Update Message"},on:{click:e.updateMessage}})])])])])}),[function(){var e=this._self._c;return e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[this._v("Edit Message")])])},function(){var e=this,t=e._self._c;return t("small",[e._v("(The "),t("b",[e._v("FOR")]),e._v(" part of the message)")])}],!1,null,"189c5907",null).exports}}]);