"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[545],{2321:(s,e,t)=>{t.r(e),t.d(e,{default:()=>i});const a={name:"message-view",data:function(){return{message_id:null,loading:!0,message:null}},methods:{loadMessage:function(){var s=this;axios.get("/api/messages/"+this.message_id).then((function(e){s.message=e.data.data,s.loading=!1}))},formatMessage:function(s,e){if("ALLSTATIONS"===e){var t=s.length,a=s.match(/.{1,30}/g).join("\r\n");return 30!==t?"["+t+" CHAR]\r\n"+a:a}return s}},mounted:function(){this.message_id=this.$route.params.message_id,this.loadMessage()}};const i=(0,t(1900).Z)(a,(function(){var s=this,e=s._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-12 col-lg-8"},[this.loading?e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("vue-loading",{attrs:{type:"bubbles",color:"#d9544e",size:{width:"50px",height:"50px"}}})],1)]):s._e(),s._v(" "),this.loading?s._e():e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[s._v("Message "+s._s(this.message.id))]),s._v(" "),e("div",{staticClass:"card-tools"},[s.message.permissions.update?e("router-link",{attrs:{tag:"a",to:{name:"message-edit",params:{message_id:s.message.id}}}},[e("i",{staticClass:"fa fa-edit"})]):s._e(),s._v(" "),s.message.permissions.delete?e("router-link",{attrs:{tag:"a",to:{name:"message-delete",params:{message_id:s.message.id}}}},[e("i",{staticClass:"fa fa-trash"})]):s._e()],1)]),s._v(" "),e("div",{staticClass:"card-body"},[e("table",{staticClass:"table table-bordered"},[e("tbody",[e("tr",[e("td",[s._v("Broadcast Time")]),s._v(" "),e("td",[s._v(s._s(this.message.time))])]),s._v(" "),e("tr",[e("td",[s._v("Message Type")]),s._v(" "),e("td",[s._v(s._s(this.message.type))])]),s._v(" "),e("tr",[e("td",[s._v("Sender")]),s._v(" "),e("td",[s._v(s._s(this.message.sender))])]),s._v(" "),e("tr",[e("td",[s._v("Receiver")]),s._v(" "),e("td",[s._v(s._s(this.message.receiver))])])])]),s._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"info-box bg-light"},[e("div",{staticClass:"info-box-content"},[e("span",{staticClass:"info-box-number text-center text-muted mb-0"},[e("pre",{staticStyle:{"overflow-x":"auto","white-space":"-o-pre-wrap","word-wrap":"break-word"},domProps:{innerHTML:s._s(s.formatMessage(s.message.message,s.message.type))}})])])])])])]),s._v(" "),e("div",{staticClass:"card-footer clearfix"},[e("div",{staticClass:"text-sm float-right"},[e("b",[s._v("Submitted By:")]),s._v(" "),"user"===this.message.user.type?e("router-link",{attrs:{tag:"a",to:{name:"user-view",params:{user_id:this.message.user.id}}}},[s._v("\n                        "+s._s(this.message.user.name)+"\n                    ")]):s._e(),s._v(" "),"guest"===this.message.user.type?e("router-link",{attrs:{tag:"a",to:{name:"guest-view",params:{guest_id:this.message.user.id}}}},[s._v("\n                        "+s._s(this.message.user.name)+"\n                    ")]):s._e()],1)])])]),s._v(" "),e("div",{staticClass:"col-12 col-md-12 col-lg-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[s._v("\n                        Message Recordings\n                    ")]),s._v(" "),e("div",{staticClass:"card-body"},[this.loading?e("vue-loading",{attrs:{type:"bubbles",color:"#d9544e",size:{width:"50px",height:"50px"}}}):s._e(),s._v(" "),this.loading?s._e():e("div",[e("recording-list-stub",{attrs:{recordings:s.message.recordings}})],1)],1),s._v(" "),e("div",{staticClass:"card-footer clearfix"})])]),s._v(" "),e("div",{staticClass:"col-12"},[this.loading?s._e():e("recording-add-stub",{attrs:{message_id:s.message.id}})],1)])]),s._v(" "),e("div",{staticClass:"col-12 col-md-12 col-lg-12"},[this.loading?e("div",{staticClass:"card"},[s._m(0),s._v(" "),e("div",{staticClass:"card-body"},[e("vue-loading",{attrs:{type:"bubbles",color:"#d9544e",size:{width:"50px",height:"50px"}}})],1)]):s._e(),s._v(" "),this.loading?s._e():e("comment-listing",{attrs:{message_id:s.message.id}})],1)])}),[function(){var s=this._self._c;return s("div",{staticClass:"card-header"},[s("p",{staticClass:"card-title"},[this._v("Comments")])])}],!1,null,"0e682a18",null).exports}}]);