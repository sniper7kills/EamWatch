"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[545],{6999:(s,t,e)=>{e.r(t),e.d(t,{default:()=>i});const a={name:"message-view",data:function(){return{message_id:null,loading:!0,message:null}},methods:{loadMessage:function(){var s=this;axios.get("/api/messages/"+this.message_id).then((function(t){s.message=t.data.data,s.loading=!1}))},formatMessage:function(s,t,e){if("ALLSTATIONS"===t){var a=s.length,i=s.match(/.{1,30}/g).join("\r\n");return 30!==a&&(i="["+a+" CHAR]<br />"+i),e>0&&(i="["+e+" REPEATS]<br />"+i),i}return s}},mounted:function(){this.message_id=this.$route.params.message_id,this.loadMessage()}};const i=(0,e(1900).Z)(a,(function(){var s=this,t=s._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-md-12 col-lg-8"},[this.loading?t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[t("vue-loading",{attrs:{type:"bubbles",color:"#d9544e",size:{width:"50px",height:"50px"}}})],1)]):s._e(),s._v(" "),this.loading?s._e():t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("h3",{staticClass:"card-title"},[s._v("Message "+s._s(this.message.id))]),s._v(" "),t("div",{staticClass:"card-tools"},[s.message.permissions.update?t("router-link",{attrs:{tag:"a",to:{name:"message-edit",params:{message_id:s.message.id}}}},[t("i",{staticClass:"fa fa-edit"})]):s._e(),s._v(" "),s.message.permissions.delete?t("router-link",{attrs:{tag:"a",to:{name:"message-delete",params:{message_id:s.message.id}}}},[t("i",{staticClass:"fa fa-trash"})]):s._e()],1)]),s._v(" "),t("div",{staticClass:"card-body"},[t("table",{staticClass:"table table-bordered"},[t("tbody",[t("tr",[t("td",[s._v("Broadcast Time")]),s._v(" "),t("td",[s._v(s._s(this.message.time))])]),s._v(" "),t("tr",[t("td",[s._v("Message Type")]),s._v(" "),t("td",[s._v(s._s(this.message.type))])]),s._v(" "),t("tr",[t("td",[s._v("Sender")]),s._v(" "),t("td",[s._v(s._s(this.message.sender))])]),s._v(" "),t("tr",[t("td",[s._v("Receiver")]),s._v(" "),t("td",[s._v(s._s(this.message.receiver))])])])]),s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"info-box bg-light"},[t("div",{staticClass:"info-box-content"},[t("span",{staticClass:"info-box-number text-center text-muted mb-0"},[t("pre",{staticStyle:{"overflow-x":"auto","white-space":"-o-pre-wrap","word-wrap":"break-word"},domProps:{innerHTML:s._s(s.formatMessage(s.message.message,s.message.type,s.message.repeats))}})])])])])])]),s._v(" "),t("div",{staticClass:"card-footer clearfix"},[t("div",{staticClass:"text-sm float-right"},[t("b",[s._v("Submitted By:")]),s._v(" "),"user"===this.message.user.type?t("router-link",{attrs:{tag:"a",to:{name:"user-view",params:{user_id:this.message.user.id}}}},[s._v("\n                        "+s._s(this.message.user.name)+"\n                    ")]):s._e(),s._v(" "),"guest"===this.message.user.type?t("router-link",{attrs:{tag:"a",to:{name:"guest-view",params:{guest_id:this.message.user.id}}}},[s._v("\n                        "+s._s(this.message.user.name)+"\n                    ")]):s._e()],1)])])]),s._v(" "),t("div",{staticClass:"col-12 col-md-12 col-lg-4"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[s._v("\n                        Message Recordings\n                    ")]),s._v(" "),t("div",{staticClass:"card-body"},[this.loading?t("vue-loading",{attrs:{type:"bubbles",color:"#d9544e",size:{width:"50px",height:"50px"}}}):s._e(),s._v(" "),this.loading?s._e():t("div",[t("recording-list-stub",{attrs:{recordings:s.message.recordings}})],1)],1),s._v(" "),t("div",{staticClass:"card-footer clearfix"})])]),s._v(" "),t("div",{staticClass:"col-12"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[s._v("\n                        Automated Recordings Within 4 Minutes\n                    ")]),s._v(" "),t("div",{staticClass:"card-body"},[this.loading?t("vue-loading",{attrs:{type:"bubbles",color:"#d9544e",size:{width:"50px",height:"50px"}}}):s._e(),s._v(" "),this.loading?s._e():t("div",[t("recording-list-stub",{attrs:{recordings:s.message.automated_recordings}})],1)],1),s._v(" "),t("div",{staticClass:"card-footer clearfix"})])]),s._v(" "),t("div",{staticClass:"col-12"},[this.loading?s._e():t("recording-add-stub",{attrs:{message_id:s.message.id}})],1)])]),s._v(" "),t("div",{staticClass:"col-12 col-md-12 col-lg-12"},[this.loading?t("div",{staticClass:"card"},[s._m(0),s._v(" "),t("div",{staticClass:"card-body"},[t("vue-loading",{attrs:{type:"bubbles",color:"#d9544e",size:{width:"50px",height:"50px"}}})],1)]):s._e(),s._v(" "),this.loading?s._e():t("comment-listing",{attrs:{message_id:s.message.id}})],1)])}),[function(){var s=this._self._c;return s("div",{staticClass:"card-header"},[s("p",{staticClass:"card-title"},[this._v("Comments")])])}],!1,null,"8f90fabc",null).exports}}]);