"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[213],{1660:(t,a,e)=>{e.r(a),e.d(a,{default:()=>s});const i={name:"CommentListing",props:["message_id","recording_id"],data:function(){return{loading:!1,comments:null,pagination:{total:0,per_page:15,current_page:1,last_page:0,from:1,to:15},paginationOptions:{offset:4,previousText:"Prev",nextText:"Next",alwaysShowPrevNext:!0}}},computed:{perPage:function(){return this.pagination.per_page}},watch:{perPage:function(t,a){this.pagination.current_page=1}},methods:{loadComments:function(){var t=this,a={params:{message_id:this.message_id,recording_id:this.recording_id,paginate:this.pagination.per_page,page:this.pagination.current_page}};this.loading=!0,axios.get("/api/comments",a).then((function(a){t.comments=a.data.data,t.pagination=a.data.meta,t.loading=!1}))}},mounted:function(){this.loadComments()}};const s=(0,e(1900).Z)(i,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("p",{staticClass:"card-title"},[t._v("Comments")]),t._v(" "),a("div",{staticClass:"card-tools"},[a("a",{staticClass:"float-right pl-2",attrs:{href:""},on:{click:t.loadComments}},[a("i",{staticClass:"fa fa-sync"})]),t._v(" "),a("div",{staticClass:"input-group input-group-sm",staticStyle:{width:"150px"}},[t._m(0),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.pagination.per_page,expression:"pagination.per_page"}],staticClass:"form-control float-right",attrs:{disabled:!0===t.loading},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.pagination,"per_page",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:"5"}},[t._v("5")]),t._v(" "),a("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),a("option",{attrs:{value:"15"}},[t._v("15")]),t._v(" "),a("option",{attrs:{value:"20"}},[t._v("20")]),t._v(" "),a("option",{attrs:{value:"25"}},[t._v("25")]),t._v(" "),a("option",{attrs:{value:"50"}},[t._v("50")]),t._v(" "),a("option",{attrs:{value:"75"}},[t._v("75")]),t._v(" "),a("option",{attrs:{value:"100"}},[t._v("100")])])])])]),t._v(" "),a("div",{staticClass:"card-body"},[t.loading?a("vue-loading",{attrs:{type:"bubbles",color:"#d9544e",size:{width:"50px",height:"50px"}}}):t._e(),t._v(" "),t._l(t.comments,(function(e){return t.loading?t._e():a("comment-view-stub",{key:e.id,attrs:{comment:e}})}))],2),t._v(" "),a("div",{staticClass:"card-footer clearfix"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("comment-add-stub",{attrs:{message_id:t.message_id}})],1),t._v(" "),a("div",{staticClass:"col-6"},[a("pagination",{attrs:{pagination:t.pagination,callback:t.loadComments,options:t.paginationOptions}})],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Per Page")])])}],!1,null,"6d0db2d2",null).exports}}]);