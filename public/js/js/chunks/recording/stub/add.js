"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[623],{7757:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});const i={name:"RecordingAddStub",props:["message_id"],data:function(){return{uploadProgress:0,uploadFinished:!1,submitting:!1,receiver:null,frequency:null,upload:{uuid:null,key:null,bucket:null,name:null,content_type:null}}},methods:{uploadRecording:function(){var e=this;this.submitting=!0,null===this.upload.uuid?Vapor.store(this.$refs.recording.files[0],{progress:function(s){e.uploadProgress=Math.round(100*s)}}).then((function(s){e.upload.uuid=s.uuid,e.upload.key=s.key,e.upload.bucket=s.bucket,e.upload.name=e.$refs.recording.files[0].name,e.upload.content_type=e.$refs.recording.files[0].type,e.submitRecording()})).catch((function(s){e.submitting=!1,console.log(s)})):this.submitRecording()},submitRecording:function(){var e=this;axios.post("/api/recordings",{uuid:this.upload.uuid,key:this.upload.key,bucket:this.upload.bucket,name:this.upload.name,content_type:this.upload.content_type,receiver:this.receiver,frequency:this.frequency,message_id:this.message_id}).then((function(s){e.uploadFinished=!0})).catch((function(s){console.log(s),e.submitting=!1}))}}};const r=(0,t(1900).Z)(i,(function(){var e=this,s=e._self._c;return e.uploadFinished?e._e():s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[e._v("\n        Add Recording\n    ")]),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-6"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"receiver"}},[e._v("Receiver")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.receiver,expression:"receiver"}],staticClass:"form-control",class:{"is-invalid":this.$errors.has("receiver")},attrs:{type:"text",id:"receiver",disabled:!0===e.submitting},domProps:{value:e.receiver},on:{input:function(s){s.target.composing||(e.receiver=s.target.value)}}}),e._v(" "),s("error",{staticClass:"text-danger",attrs:{input:"receiver"}})],1)]),e._v(" "),s("div",{staticClass:"col-12 col-md-6"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"frequency"}},[e._v("Frequency")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.frequency,expression:"frequency"}],staticClass:"form-control",class:{"is-invalid":this.$errors.has("frequency")},attrs:{type:"text",id:"frequency",disabled:!0===e.submitting},domProps:{value:e.frequency},on:{input:function(s){s.target.composing||(e.frequency=s.target.value)}}}),e._v(" "),s("error",{staticClass:"text-danger",attrs:{input:"frequency"}})],1)]),e._v(" "),s("div",{staticClass:"col-12"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"recording"}},[e._v("Recording")]),e._v(" "),s("div",{staticClass:"custom-file"},[s("input",{ref:"recording",staticClass:"custom-file-input",class:{"is-invalid":this.$errors.has("recording")},attrs:{type:"file",id:"recording",disabled:!0===e.submitting}}),e._v(" "),s("label",{staticClass:"custom-file-label",attrs:{for:"recording"}},[e._v("Choose file")])]),e._v(" "),s("error",{staticClass:"text-danger",attrs:{input:"recording"}})],1)]),e._v(" "),e.submitting?s("div",{staticClass:"progress progress-xxs"},[s("div",{staticClass:"progress-bar progress-bar-danger progress-bar-striped",style:"width: "+e.uploadProgress+"%",attrs:{role:"progressbar","aria-valuenow":e.uploadProgress,"aria-valuemin":"0","aria-valuemax":"100"}},[s("span",{staticClass:"sr-only"},[e._v(e._s(e.uploadProgress)+"% Complete")])])]):e._e()])])]),e._v(" "),s("div",{staticClass:"card-footer"},[s("input",{staticClass:"btn btn-primary float-right",attrs:{disabled:!0===e.submitting,type:"submit",value:"Add Recording"},on:{click:e.uploadRecording}})])])}),[],!1,null,"b5cf9e5e",null).exports}}]);